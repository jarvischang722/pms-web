!function(t){t.fn.tableHeadFixer=function(n){return this.each(function(){(function(){function o(n){n.each(function(n,o){o=t(o);var i=t(o).parent(),r=o.css("background-color");r="transparent"==r||"rgba(0, 0, 0, 0)"==r?null:r,i="transparent"==(i=i.css("background-color"))||"rgba(0, 0, 0, 0)"==i?null:i,o.css("background-color",r||i||"white")})}function i(n,o){for(var i=a.left,r=1,e=1;e<=i;e+=r){r=1<r?e-1:e;var c=(r=t(n).find("> *:nth-child("+r+")")).prop("colspan");r.cellPos().left<i&&o(r),r=c}}var r,e,a=t.extend({},{head:!0,foot:!1,left:0,right:0,"z-index":0},n);a.table=this,a.parent=t(a.table).parent(),r=t(a.parent),e=t(a.table),r.append(e),r.css({"overflow-x":"auto","overflow-y":"auto"}),r.scroll(function(){var t=r[0].scrollWidth,n=r[0].clientWidth,o=r[0].scrollHeight,i=r[0].clientHeight,e=r.scrollTop(),c=r.scrollLeft();a.head&&this.find("thead tr > *").css("top",e),a.foot&&this.find("tfoot tr > *").css("bottom",o-i-e),0<a.left&&a.leftColumns.css("left",c),0<a.right&&a.rightColumns.css("right",t-n-c)}.bind(e)),1==a.head&&function(){var n=t(a.table).find("thead");n.find("tr"),o(n=n.find("tr > *")),n.css({position:"relative"})}(),1==a.foot&&function(){var n=t(a.table).find("tfoot");n.find("tr"),o(n=n.find("tr > *")),n.css({position:"relative"})}(),0<a.left&&function(){var n=t(a.table);a.leftColumns=t(),n.find("tr").each(function(t,n){i(n,function(t){a.leftColumns=a.leftColumns.add(t)})}),a.leftColumns.each(function(n,i){o(i=t(i)),i.css({position:"relative"})})}(),0<a.right&&function(){var n=t(a.table);a.rightColumns=t();var i=n.find("thead").find("tr");n=n.find("tbody").find("tr");var r=null;i.each(function(n,o){!function(n,o){for(var i=a.right,r=1,e=1;e<=i;e+=r){r=1<r?e-1:e;var c=(r=t(n).find("> *:nth-last-child("+r+")")).prop("colspan");o(r),r=c}}(o,function(t){0===n&&(r=t),a.rightColumns=a.rightColumns.add(r)})}),n.each(function(n,o){!function(n,o){for(var i=a.right,r=1,e=1;e<=i;e+=r){r=1<r?e-1:e;var c=(r=t(n).find("> *:nth-last-child("+r+")")).prop("colspan");o(r),r=c}}(o,function(t){a.rightColumns=a.rightColumns.add(t)})}),a.rightColumns.each(function(n,i){o(i=t(i)),i.css({position:"relative","z-index":"9999"})})}(),function(){var n=t(a.table);if(a.head){if(0<a.left){var o=n.find("thead tr");o.each(function(n,o){i(o,function(n){t(n).css("z-index",a["z-index"]+1)})})}0<a.right&&(o=n.find("thead tr")).each(function(n,o){solveRightColspan(o,function(n){t(n).css("z-index",a["z-index"]+1)})})}a.foot&&(0<a.left&&(o=n.find("tfoot tr")).each(function(n,o){i(o,function(n){t(n).css("z-index",a["z-index"])})}),0<a.right&&(o=n.find("tfoot tr")).each(function(n,o){solveRightColspan(o,function(n){t(n).css("z-index",a["z-index"])})}))}(),t(a.parent).trigger("scroll"),t(window).resize(function(){t(a.parent).trigger("scroll")})}).call(this)})}}(jQuery),function(t){t.fn.cellPos=function(n){var o=this.first();return o.data("cellPos")&&!n||function(n){var o=[];n.children("tr").each(function(n,i){t(i).children("td, th").each(function(i,r){var e,a,c=t(r),l=0|c.attr("colspan"),f=0|c.attr("rowspan");for(l=l||1,f=f||1;o[n]&&o[n][i];++i);for(e=i;e<i+l;++e)for(a=n;a<n+f;++a)o[a]||(o[a]=[]),o[a][e]=!0;c.data("cellPos",{top:n,left:i})})})}(n=o.closest("table, thead, tbody, tfoot")),o.data("cellPos")}}(jQuery);