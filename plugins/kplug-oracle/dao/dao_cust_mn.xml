<?xml version="1.0" encoding="UTF-8"?>
<root>
    <!--
        [PMS0860010] 未於商務公司資料中指定者可刪除
        訊息:在商務公司資料維護已使用,不可刪除
    -->
    <dao name="CHK_CUST_TYPE_RF_IS_EXIST_CUST_MN">
        <statement><![CDATA[
			select count(*) as cust_mn_count from cust_mn
			where  athena_id = trim(:athena_id)
			and trim(type_cod) = trim(:type_cod)
			and rownum = 1
        ]]>
        </statement>
        <parameter type="string" kind="3">athena_id</parameter>
        <parameter type="string" kind="3">type_cod</parameter>
    </dao>

    <!--
    [PMS0860020] 未於商務公司資料中指定者可刪除
    訊息:在商務公司資料維護已使用,不可刪除
-->
    <dao name="QRY_BUSINESS_RF_IS_EXIST_CUST_MN_COUNT">
        <statement><![CDATA[
			select count(*) as cust_mn_count from cust_mn
			where  athena_id = trim(:athena_id)
			and trim(business_cod) = trim(:business_cod)
			and rownum = 1
        ]]>
        </statement>
        <parameter type="string" kind="3">athena_id</parameter>
        <parameter type="string" kind="3">business_cod</parameter>
    </dao>

    <!--
    [PMS0860070] 在商務公司資料維護已使用,不可刪除
    訊息:在商務公司資料維護已使用,不可刪除
-->
    <dao name="CHK_CONSTRACT_STA_IS_EXIST_CUST_MN">
        <statement><![CDATA[
                select count(*) custmncount
                 from cust_mn
                where athena_id =?   and contract_sta = ? and rownum = 1
        ]]>
        </statement>
        <parameter type="string" kind="1">athena_id</parameter>
        <parameter type="string" kind="1">status_cod</parameter>
    </dao>

    <!--[PMS0810180] 顯示ashow_cod跳出訊息的欄位資料 -->
    <dao name="QRY_CUST_MN_FOR_ASHOW_COD">
        <statement><![CDATA[
            select  show_cod, cust_nam, contact1_rmk, status_cod,cust_cod  from cust_mn
            where status_cod='N'  and cust_typ='N' and athena_id =?
        ]]>
        </statement>
        <parameter type="string" kind="1">athena_id</parameter>

    </dao>

    <!--[PMS0810180] 顯示cshow_cod跳出訊息的欄位資料 -->
    <dao name="QRY_CUST_MN_FOR_CSHOW_COD">
        <statement><![CDATA[
            select show_cod, cust_nam, contact1_rmk, status_cod,cust_cod  from cust_mn
            where status_cod='N'  and cust_typ='N' and athena_id =?
        ]]>
        </statement>
        <parameter type="string" kind="1">athena_id</parameter>
    </dao>

    <!--[PMS0830090] 顯示cshow_cod跳出訊息的選擇客戶代號 -->
    <dao name="QRY_CUSTMN_DEPOSIT_NOS">
        <statement><![CDATA[
              select show_cod ,cust_nam ,cust_typ
               from cust_mn where athena_id = ? and show_cod = ? and status_cod <> 'D'
        ]]>
        </statement>
        <parameter type="string" kind="1">athena_id</parameter>
        <parameter type="string" kind="1">show_cod</parameter>
    </dao>
</root>