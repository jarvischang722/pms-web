<?xml version="1.0" encoding="UTF-8"?>
<root>
    <!-- ['PMS0810090']-->
    <dao name="GET_GW_CUST_RF.DEFAULT_GUEST_TYP_COUNT">
        <statement><![CDATA[
            select count(*) as guest_count
             from gw_cust_rf
             where trim(athena_id) = trim(?) and trim(default_guest_typ) = trim(?) and rownum = 1
        ]]>
        </statement>
        <parameter type="int" kind="1">athena_id</parameter>
        <parameter type="string" kind="1">default_guest_typ</parameter>
    </dao>

    <!-- [PMS0810110]-->
    <dao name="GET_GW_CUST_RF.DEFAULT_SOURCE_TYP_COUNT">
        <statement><![CDATA[
            select count(*) as source_count
             from gw_cust_rf
             where trim(athena_id) = trim(?) and trim(default_source_typ) = trim(?) and rownum = 1
        ]]>
        </statement>
        <parameter type="int" kind="1">athena_id</parameter>
        <parameter type="string" kind="1">source_typ</parameter>
    </dao>

    <!-- [PMS0810180]-->
    <dao name="QRY_GW_CUST_RF">
        <statement><![CDATA[
           select agent_no, acust_cod, ccust_cod, b.show_cod ashow_cod, b.cust_nam acust_nam, c.show_cod cshow_cod, c.cust_nam ccsut_nam
           from gw_cust_rf a
           left join cust_mn b on b.status_cod = 'N' and b.cust_typ= 'N' and b.athena_id = :athena_id and b.cust_cod = a.acust_cod
           left join cust_mn c on c.status_cod = 'N' and c.cust_typ= 'N' and c.athena_id = :athena_id and c.cust_cod = a.ccust_cod
           where a.athena_id = :athena_id
        ]]>
        </statement>
        <parameter type="int" kind="3">athena_id</parameter>
    </dao>

    <!-- [PMS0810180] 單筆項目-->
    <dao name="QRY_SINGLE_GW_CUST_RF">
        <statement><![CDATA[
           select agent_no, acust_cod, ccust_cod, b.show_cod ashow_cod, b.cust_nam acust_nam, c.show_cod cshow_cod, c.cust_nam ccsut_nam
           from gw_cust_rf a
           left join cust_mn b on b.status_cod = 'N' and b.cust_typ= 'N' and athena_id = ? and b.cust_cod = a.acust_cod
           left join cust_mn c on c.status_cod = 'N' and c.cust_typ= 'N' and athena_id = ? and c.cust_cod = a.ccust_cod
           where athena_id =? and agent_no =?
        ]]>
        </statement>
        <parameter type="int" kind="1">athena_id</parameter>
        <parameter type="string" kind="1">agent_no</parameter>
    </dao>
</root>