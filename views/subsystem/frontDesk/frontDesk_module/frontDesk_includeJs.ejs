<script type="text/javascript">
    /***
     * PMS0210020 綜合櫃檯
     */

    // Walk In
    function foCnt_walkIn() {
        var dialog = $("#foCnt_walkIn-message").removeClass('hide').dialog({
            modal: true,
            title: "Walk In",
            title_html: true,
            width: 1000,
            maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
    };

    // 更改C/O日期
    function foCnt_editCoDate() {
        var dialog = $("#foCnt_editCoDate-message").removeClass('hide').dialog({
            modal: true,
            title: "更改C/O日期",
            title_html: true,
            width: 650,
            maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
        // 綜合櫃檯-c/o日期 foCnt_editCoDate dataGrid
        $('#foCnt_editCoDate-table').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/frontDesk/foCnt_editCoDate.json',
            method: 'get',
            columns: [[
                {field: 'checkbox', title: '<input type="checkbox">', width: 28, align: "center"},
                {field: 'roomNum', title: '房號', width: 60},
                {field: 'sort', title: '序號', width: 40},
                {field: 'fullName', title: 'Full Name', width: 150},
                {field: 'ciDate', title: 'C/I日期', width: 80},
                {field: 'expectCo', title: '預計C/O', width: 80},
                {field: 'resvCardNum', title: '訂房卡號', width: 100}
            ]]
        });
    };

    // Details
    function foCnt_details() {
        var dialog = $("#foCnt_details-message").removeClass('hide').dialog({
            modal: true,
            title: "Details",
            title_html: true,
            width: 1000,
            maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
    };

    // Rate Chg
    function foCnt_rateChg() {
        var dialog = $("#foCnt_rateChg-message").removeClass('hide').dialog({
            modal: true,
            title: "Rate Chg",
            title_html: true,
            width: 910,
            maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
    };

    // Rm Chg
    function foCnt_rmChg() {
        var dialog = $("#foCnt_rmChg-message").removeClass('hide').dialog({
            modal: true,
            title: "Rm Chg",
            title_html: true,
            width: 600,
            maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
    };

    // 清掃房間
    function clean_btn() {
        var dialog = $("#clean-Dialog").removeClass('hide').dialog({
            modal: true,
            title: "清掃房間",
            title_html: true,
            width: 500,
            maxwidth: 1920,
            dialogClass: "test",
            resizable: true
        });
    }

    // 備註
    function remark_btn() {
        var dialog = $("#remark-Dialog").removeClass('hide').dialog({
            modal: true,
            title: "備註",
            title_html: true,
            width: 400,
            maxwidth: 1920,
            dialogClass: "test",
            resizable: true
        });
    }

    // 訂房卡
    function reservationDialog_1() {
        var dialog = $("#reservationDialog-1-message").removeClass('hide').dialog({
            modal: true,
            title: "訂房卡",
            title_html: true,
            width: 1000,
            maxwidth: 1920,
            height: 600,
//                height: $(window).height(),
//                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
    };

    // 設定公帳號
    function publiceAccountSetting_btn() {
        var dialog = $("#publiceAccountSetting-Dialog").removeClass('hide').dialog({
            modal: true,
            title: "設定公帳號",
            title_html: true,
            width: 700,
            maxwidth: 1920,
            dialogClass: "test",
            resizable: true
        });

        // pm dataGrid
        $('#pa-setting-1').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/frontDesk/front_paSetting-table.json',
            method: 'get',
            columns: [[
                {field: 'CO', title: '選擇', width: 50},
                {field: 'roomNum', title: '房號', width: 60},
                {field: 'code', title: '序號', width: 40},
                {field: 'fullName', title: 'Full Name', width: 150},
                {field: 'PA', title: '公帳號', width: 80},
                {field: 'roomCode', title: '訂房卡號', width: 100},
            ]]
        });
    }

    function cashierGstLedger_Single() {
        var dialog = $("#cashierGstLedger_Single-message").removeClass('hide').dialog({
            modal: true,
            title: "住客帳維護單筆",
            title_html: true,
            width: 1000,
            maxwidth: 1920,
            height: $(window).height(),
//                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
        // 住客帳維護_單筆_分帳夾01 cashier_GstLedgerSgl01 dataGrid
        $('#cashier_GstLedgerSgl01-table').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/cashier/cashier_GstLedgerSgl01.json',
            method: 'get',
            columns: [[
                {field: 'consumeDate', title: '1.消費日期', width: 100},
                {field: 'consumeItem', title: '消費項目', width: 100},
                {field: 'quantity', title: '數量', width: 40, align: 'right'},
                {field: 'consumeSum', title: '消費總額', width: 80, align: 'right'},
                {field: 'billingDate', title: '帳單日期', width: 80},
                {field: 'recordOffice', title: '入帳廳別', width: 80},
                {field: 'addBy', title: '入帳者', width: 80},
                {field: 'addShift', title: '入帳班', width: 60},
                {field: 'consumeRoom', title: '消費房號', width: 60, align: 'right'},
                {field: 'liveTransferRm', title: '住掛轉帳備註', width: 160},
                {field: 'adjustRm', title: '調整備註', width: 160},
                {field: 'cashierRm', title: '出納備註', width: 160},
                {field: 'billingRm', title: '帳單備註', width: 160},
                {field: 'consumeNum', title: '消費單號', width: 120},
                {field: 'billingNum', title: '帳單編號', width: 100},
                {field: 'tax', title: '稅別', width: 100, align: 'right'}
            ]]
        });
        // 住客帳維護_單筆_分帳夾02 cashier_GstLedgerSgl02 dataGrid
        $('#cashier_GstLedgerSgl02-table').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/cashier/cashier_GstLedgerSgl02.json',
            method: 'get',
            columns: [[
                {field: 'consumeDate', title: '2.消費日期', width: 100},
                {field: 'consumeItem', title: '消費項目', width: 100},
                {field: 'quantity', title: '數量', width: 40, align: 'right'},
                {field: 'consumeSum', title: '消費總額', width: 80, align: 'right'},
                {field: 'billingDate', title: '帳單日期', width: 80},
                {field: 'recordOffice', title: '入帳廳別', width: 80},
                {field: 'addBy', title: '入帳者', width: 80},
                {field: 'addShift', title: '入帳班', width: 60},
                {field: 'consumeRoom', title: '消費房號', width: 60, align: 'right'},
                {field: 'liveTransferRm', title: '住掛轉帳備註', width: 160},
                {field: 'adjustRm', title: '調整備註', width: 160},
                {field: 'cashierRm', title: '出納備註', width: 160},
                {field: 'billingRm', title: '帳單備註', width: 160},
                {field: 'consumeNum', title: '消費單號', width: 120},
                {field: 'billingNum', title: '帳單編號', width: 100},
                {field: 'tax', title: '稅別', width: 100, align: 'right'}
            ]]
        });
    }

    function message_btn() {
        var dialog = $("#message-dialog").removeClass('hide').dialog({
            modal: true,
            title: "留言明細",
            title_html: true,
            width: 1000,
            maxwidth: 1920,
            height: $(window).height(),
//                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
        // profile messages (同PMS0210130 多筆) dataGrid
        $('#resvProfile_message-table').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/frontDesk/front_message.json',
            method: 'get',
            columns: [[
                {field: 'room', title: 'Room', width: 80, align: "right"},
                {field: 'fullName', title: 'Full Name', width: 150},
                {field: 'date', title: 'Date', width: 80},
                {field: 'time', title: 'Time', width: 80},
                {field: 'from', title: 'From', width: 80},
                {field: 'at', title: 'At', width: 80},
                {field: 'replyTo', title: 'Reply to', width: 100},
                {field: 'message', title: 'Message', width: 150},
                {field: 'status', title: 'Status', width: 80},
                {field: 'addBy', title: 'Added By', width: 80},
                {field: 'addDate', title: 'Added Date', width: 80},
                {field: 'updby', title: 'Upd by', width: 80},
                {field: 'updDate', title: 'Upd Date', width: 80}
            ]]
        });
    };

    function resvLostFound() {
        var dialog = $("#resvLostFound-message").removeClass('hide').dialog({
            modal: true,
            title: "Lost&Found",
            title_html: true,
            width: 1000,
            maxwidth: 1920,
            height: $(window).height(),
//                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
        // profile resvProfile_lostFound (同綜合櫃檯 profile 多筆) dataGrid
        $('#resvProfile_lostFound-table').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/reservation/reservation_lostFound.json',
            method: 'get',
            columns: [[
                {field: 'checkbox', title: '<input type="checkbox"/>', width: 28, align: 'center'},
                {field: 'LfCode', title: '編號', width: 50},
                {field: 'LfState', title: '狀態', width: 100},
                {field: 'LfDate', title: '遺失日期', width: 100},
                {field: 'LfTime', title: '遺失時間', width: 100},
                {field: 'LfThings', title: '遺失物品', width: 240},
                {field: 'LfName', title: '遺失者', width: 100},
                {field: 'LfPlace', title: '遺失處', width: 100},
            ]]
        });
    };

    function resv_guestDetailBtn1() {
        var dialog = $("#resvGuestDetail-btn1-message").removeClass('hide').dialog({
            modal: true,
            title: "交辦事項",
            title_html: true,
            width: 1000,
            maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
        // PMS0210020 trace Button
        $('#resv_guestDetail-table').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/reservation/resv_guestDetail.json',
            method: 'get',
            columns: [[
                {field: 'checkbox', title: '<input type="checkbox" />', width: 28, align: 'center'},
                {field: 'status', title: '狀態', width: 80},
                {field: 'startDate', title: '開始日期', width: 100},
                {field: 'endDate', title: '結束日期', width: 100},
                {field: 'bookingsNum', title: '訂房卡號', width: 100},
                {field: 'roomNum', title: '房號', width: 60},
                {field: 'tracesCon', title: '交辦事項內容', width: 300},
                {field: 'processDepartment', title: '處理部門', width: 100}
            ]]

        });
    };

    function resvPickUp() {
        var dialog = $("#reservationDialog-pickUp").removeClass('hide').dialog({
            modal: true,
            title: "接送機資料輸入",
            title_html: true,
            width: 1000,
            maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
        // 訂房卡-接機 dataGrid
        $('#resvPickUp-table').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/reservation/resvPickUp.json',
            method: 'get',
            columns: [[
                {field: 'resvNo', title: '序號', width: 50},
                {field: 'resvCo', title: '連絡人', width: 80},
                {field: 'resvP1', title: '電話一', width: 100},
                {field: 'resvP2', title: '電話二', width: 100},
                {field: 'resvDate', title: '日期', width: 80},
                {field: 'resvNum', title: '班次', width: 80},
                {field: 'resvTime', title: '時間', width: 80},
                {field: 'resvAdult', title: '大人數', width: 50, align: 'right'},
                {field: 'resvChild', title: '小孩數', width: 50, align: 'right'},
                {field: 'resvBaby', title: '嬰兒數', width: 50, align: 'right'},
                {field: 'resvPoint', title: '指定住客', width: 80},
                {field: 'resvMark', title: '備註', width: 150}
            ]]
        });
        // 訂房卡-送機 dataGrid
        $('#resvDropOff-table').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/reservation/resvDropOff.json',
            method: 'get',
            columns: [[
                {field: 'resvNo', title: '序號', width: 50},
                {field: 'resvCo', title: '連絡人', width: 80},
                {field: 'resvP1', title: '電話一', width: 100},
                {field: 'resvP2', title: '電話二', width: 100},
                {field: 'resvDate', title: '日期', width: 80},
                {field: 'resvNum', title: '班次', width: 80},
                {field: 'resvTime', title: '時間', width: 80},
                {field: 'resvAdult', title: '大人數', width: 50},
                {field: 'resvChild', title: '小孩數', width: 50},
                {field: 'resvBaby', title: '嬰兒數', width: 50},
                {field: 'resvPoint', title: '指定住客', width: 80},
                {field: 'resvMark', title: '備註', width: 150}
            ]]
        });
    };

    // 櫃檯用品可用數
    function resv_amenitiesIny() {
        var dialog = $("#resv_amenitiesIny-message").removeClass('hide').dialog({
            modal: true,
            title: "櫃檯用品可用數",
            title_html: true,
            width: 1000,
            maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
    };

    // 單筆開啟電話
    function pax_btn() {
        var dialog = $("#pbx-Dialog").removeClass('hide').dialog({
            modal: true,
            title: "單筆開啟電話",
            title_html: true,
            width: 700,
            maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
    };

    // 拆併床設定
    function foCnt_bedSetting() {
        var dialog = $("#foCnt_bedSetting-message").removeClass('hide').dialog({
            modal: true,
            title: "拆併床設定",
            title_html: true,
            width: 1000,
            maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
    };

    // 新增晨呼
    function addMorning_btn() {
        var dialog = $("#addMorning-page").removeClass('hide').dialog({
            modal: true,
            title: "新增晨呼",
            title_html: true,
            width: 700,
            maxwidth: 1920,
            //                height: $(window).height(),
            //                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
        // PMS0210120 晨呼table 單筆
        $('#morningSingle-table').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/frontDesk/morningSingle-table.json',
            method: 'get',
            columns: [[
                {field: 'box', title: '<input type="checkbox" />', width: 30, align: 'center'},
                {field: 'roomNum', title: '房號', width: 70},
                {field: 'name', title: '住客姓名', width: 100},
                {field: 'callDate', title: '晨呼日期', width: 100},
                {field: 'callTime', title: '晨呼時間', width: 100},
                {field: 'set', title: '狀態', width: 100}
            ]]
        });
    };

    // Day Use
    function foCnt_dayUse() {
        var dialog = $("#foCnt_dayUse-message").removeClass('hide').dialog({
            modal: true,
            title: "Day Use",
            title_html: true,
            width: 1000,
            maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
            dialogClass: "test",
            resizable: true
        });
    }
    var vm = new Vue({
        el: '#PMS0210020-info',
        data: {
            roomNum_status: '相關房號'
        },
        updated() {
        },
        /**
         * js 無法彈跳出來，使用method可以但會有階層問題
         */
        methods: {
            foCnt_walkIn() {
                foCnt_walkIn();
            },
            foCnt_editCoDate() {
                foCnt_editCoDate();
            },
            foCnt_details() {
                foCnt_details();
            },
            foCnt_rateChg() {
                foCnt_rateChg();
            },
            foCnt_rmChg() {
                foCnt_rmChg();
            },
            clean_btn() {
                clean_btn();
            },
            remark_btn(){
                remark_btn()
            },
            reservationDialog_1() {
                reservationDialog_1();
            },
            publiceAccountSetting_btn() {
                publiceAccountSetting_btn();
            },
            cashierGstLedger_Single() {
                cashierGstLedger_Single();
            },
            message_btn() {
                message_btn();
            },
            resvLostFound() {
                resvLostFound();
            },
            resv_guestDetailBtn1() {
                resv_guestDetailBtn1();
            },
            resvPickUp() {
                resvPickUp();
            },
            resv_amenitiesIny() {
                resv_amenitiesIny();
            },
            pax_btn() {
                pax_btn();
            },
            foCnt_bedSetting() {
                foCnt_bedSetting();
            },
            related_set1(self) {
                if (this.roomNum_status == '相關房號') {
                    this.roomNum_status = '全部房號'
                    $('#PMS0210020-info').find('.counterBlock').fadeOut('800');
                    $('#PMS0210020-info').find('.resultCount').css('min-width', '95%');
                    $('#PMS0210020-info').find('.related-set-block').fadeIn('800');
                }
                else {
                    this.roomNum_status = '相關房號'
                    $('#PMS0210020-info').find('.counterBlock').fadeIn('800');
                    $('#PMS0210020-info').find('.resultCount').css('min-width', '');
                }
            },
            addMorning_btn() {
                addMorning_btn();
            },
            foCnt_dayUse() {
                foCnt_dayUse();
            }
        }


    });

    jQuery(function () {
        /***
         * PMS0210020 綜合櫃檯
         */
        // 彈出 綜合櫃檯-選項 option
        $(document).on('click', ".PMS0120010Option", function (e) {
            e.preventDefault();
            var dialog = $("#PMS0120010Option-message").removeClass('hide').dialog({
                modal: true,
                title: "Option",
                title_html: true,
                width: 600,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // 彈出 綜合櫃檯-walkIn foCnt_walkIn
        $(document).on('click', ".foCnt_walkIn", function (e) {
            e.preventDefault();
            foCnt_walkIn();
        });

        // 彈出 綜合櫃檯-Extra Room foCnt_extraRm
        $(document).on('click', ".foCnt_extraRm", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_extraRm-message").removeClass('hide').dialog({
                modal: true,
                title: "Extra Room",
                title_html: true,
                width: 1000,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // 彈出 綜合櫃檯-Rate Chg foCnt_rateChg
        $(document).on('click', ".foCnt_rateChg", function (e) {
            e.preventDefault();
            foCnt_rateChg();
        });

        // 彈出 綜合櫃檯-Rm Chg foCnt_rmChg
        $(document).on('click', ".foCnt_rmChg", function (e) {
            e.preventDefault();
            foCnt_rmChg();
        });

        // 彈出 綜合櫃檯-DayUse foCnt_dayUse
        $(document).on('click', ".foCnt_dayUse", function (e) {
            e.preventDefault();
            foCnt_dayUse();
        });

        // 失物明細
        $(document).on('click', ".lf-modify-btn", function (e) {
            e.preventDefault();
            var dialog = $("#lost-found-modify").removeClass('hide').dialog({
                modal: true,
                title: "Lost&Found",
                title_html: true,
                width: 1000,
                maxwidth: 1920,
                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

//       L&F點選... 彈出視窗
        $(document).on('click', ".lfMore", function (e) {
            e.preventDefault();
            var dialog = $("#lfMore-page").removeClass('hide').dialog({
                modal: true,
                title: "可選擇項目",
                title_html: true,
                width: 400,
                maxwidth: 1920,
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // 彈出 綜合櫃檯-Details foCnt_details
        $(document).on('click', ".foCnt_details", function (e) {
            e.preventDefault();
            foCnt_details();
        });

        // 彈出 綜合櫃檯-Details foCnt_deposits
        $(document).on('click', ".foCnt_deposits", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_deposits-message").removeClass('hide').dialog({
                modal: true,
                title: "Deposits",
                title_html: true,
                width: 600,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });

            // 綜合櫃檯-Deposits foCnt_deposits dataGrid
            $('#foCnt_deposits-table').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/foCnt_deposits.json',
                method: 'get',
                columns: [[
                    {field: 'checkbox', title: '<input type="checkbox">', width: 28, align: 'center'},
                    {field: 'roomNum', title: '房號', width: 60},
                    {field: 'sort', title: '序號', width: 40},
                    {field: 'fullName', title: 'Full Name', width: 150},
                    {field: 'depositCode', title: '訂金代號', width: 80},
                    {field: 'resvCardNum', title: '訂房卡號', width: 100}
                ]]
            });

        });

        // 彈出 綜合櫃檯-c/o Date foCnt_editCoDate
        $(document).on('click', ".foCnt_editCoDate", function (e) {
            e.preventDefault();
            foCnt_editCoDate();
        });

        // 彈出 綜合櫃檯-預估款 foCnt_prePayment
        $(document).on('click', ".foCnt_prePayment", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_prePayment-message").removeClass('hide').dialog({
                modal: true,
                title: "預估款",
                title_html: true,
                width: 1000,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });

            // 綜合櫃檯-預估款 foCnt_prePayment dataGrid
            $('#foCnt_prePayment-table').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/foCnt_prePayment.json',
                method: 'get',
                columns: [[
                    {field: 'dateOfEntry', title: '入帳日期', width: 80},
                    {field: 'serviceDate', title: '服務日期', width: 80},
                    {field: 'projectCode', title: '項目代號', width: 120},
                    {field: 'unitPrice', title: '單價', width: 60, align: "right"},
                    {field: 'quantity', title: '數量', width: 40, align: "right"},
                    {field: 'subtotal', title: '小計', width: 60, align: "right"},
                    {field: 'status', title: '狀態', width: 60},
                    {field: 'star', title: '', width: 40},
                    {field: 'residentAccSingle', title: '住客帳單號', width: 150},
                    {field: 'addBy', title: '輸入者', width: 60},
                    {field: 'addDate', title: '輸入日', width: 130},
                    {field: 'updBy', title: '最後異動者', width: 60},
                    {field: 'updDate', title: '最後異動日', width: 130},
                    {field: 'sort', title: '序號', width: 80}
                ]]
            });

        });

        // 彈出 綜合櫃檯-預估款-帳款明細 foCnt_prePayBtn5
        $(document).on('click', ".foCnt_prePayBtn5", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_prePayBtn5-message").removeClass('hide').dialog({
                modal: true,
                title: "帳款明細",
                title_html: true,
                width: 1000,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });

            // 綜合櫃檯-預估款-帳款明細 foCnt_prePayBtn5 dataGrid
            $('#foCnt_prePayBtn5-table').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/foCnt_prePayBtn5.json',
                method: 'get',
                columns: [[
                    {field: 'status', title: '狀態', width: 60},
                    {field: 'dateOfEntry', title: '入帳日期', width: 80},
                    {field: 'serviceDate', title: '服務日期', width: 80},
                    {field: 'projectCode', title: '項目代號', width: 120},
                    {field: 'unitPrice', title: '單價', width: 60, align: "right"},
                    {field: 'quantity', title: '數量', width: 40},
                    {field: 'subtotal', title: '小計', width: 60, align: "right"},
                    {field: 'addBy', title: '輸入者', width: 60},
                    {field: 'addDate', title: '輸入日', width: 130},
                    {field: 'updBy', title: '最後異動者', width: 60},
                    {field: 'updDate', title: '最後異動日', width: 130},
                    {field: 'residentAccSingle', title: '住客帳單號', width: 150}
                ]]
            });

        });

        // 彈出 綜合櫃檯-拆併床 foCnt_bedSetting
        $(document).on('click', ".foCnt_bedSetting", function (e) {
            e.preventDefault();
            foCnt_bedSetting();
        });

        // 彈出 綜合櫃檯-拆併床-搜尋樓層 foCnt_bedSetFindMore1
        $(document).on('click', ".foCnt_bedSetFindMore1", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_bedSetFindMore1-message").removeClass('hide').dialog({
                modal: true,
                title: "可選擇項目",
                title_html: true,
                width: 500,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // 彈出 綜合櫃檯-拆併床-搜尋房種 foCnt_bedSetFindMore2
        $(document).on('click', ".foCnt_bedSetFindMore2", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_bedSetFindMore2-message").removeClass('hide').dialog({
                modal: true,
                title: "可選擇項目",
                title_html: true,
                width: 500,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // 彈出 綜合櫃檯-拆併床-搜尋房號 foCnt_bedSetFindMore3
        $(document).on('click', ".foCnt_bedSetFindMore3", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_bedSetFindMore3-message").removeClass('hide').dialog({
                modal: true,
                title: "可選擇項目",
                title_html: true,
                width: 500,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });


        // 彈出 綜合櫃檯-option-shareRate Share Rate 單筆
        $(document).on('click', ".foCnt_shareRate", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_shareRate-message").removeClass('hide').dialog({
                modal: true,
                title: "Share Rate",
                title_html: true,
                width: 600,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // 彈出 PMS0210020 Option-PM
        $(document).on('click', ".publiceAccountSetting-btn", function (e) {
            e.preventDefault();
            publiceAccountSetting_btn();

        });

        // 彈出 PMS0210020 Option-PM
        $(document).on('click', ".paChoosed-btn", function (e) {
            e.preventDefault();
            var dialog = $("#publiceAccountChoosed-Dialog").removeClass('hide').dialog({
                modal: true,
                title: "共有1筆資料",
                title_html: true,
                width: 500,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });

            // pm dataGrid
            $('#pa-choosed').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/front_pa-choosed.json',
                method: 'get',
                columns: [[
                    {field: 'CO', title: '公帳號', width: 70},
                    {field: 'roomNum', title: '訂金帳號', width: 100},
                    {field: 'code', title: '客戶代號', width: 100},
                    {field: 'fullName', title: '使用者名稱', width: 150},
                ]]
            });
        });

        // 彈出 PMS0210020 Option-PM
        $(document).on('click', ".paBuild-btn", function (e) {
            e.preventDefault();
            var dialog = $("#paBuild-Dialog").removeClass('hide').dialog({
                modal: true,
                title: "選擇公帳號",
                title_html: true,
                width: 500,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // 彈出 PMS0210020 Option-PM
        $(document).on('click', ".paBuild-more", function (e) {
            e.preventDefault();
            var dialog = $("#paBuild-more-Dialog").removeClass('hide').dialog({
                modal: true,
                title: "共有119筆資料",
                title_html: true,
                width: 900,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });

            // pm dataGrid
            $('#pa-more').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/front_pa-more.json',
                method: 'get',
                columns: [[
                    {field: 'pa', title: '公帳號', width: 70},
                    {field: 'depart', title: '類別', width: 70},
                    {field: 'state', title: '目前狀態', width: 70},
                    {field: 'account', title: '訂金帳號', width: 100},
                    {field: 'code', title: '客戶代號', width: 150},
                    {field: 'name', title: '使用者名稱', width: 150},
                    {field: 'num', title: '使用次數', width: 150},
                ]]
            });
        });


        /***
         * PMS0210130 messages
         */

        // 彈出 messages 單筆
        $(document).on('click', ".foCnt_messageSGL", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_messageSGL-message").removeClass('hide').dialog({
                modal: true,
                title: "Message Detail",
                title_html: true,
                width: 1000,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // 彈出 接待 單筆
        $(document).on('click', ".fdCheckIn", function (e) {
            e.preventDefault();
            var dialog = $("#fdCheckIn-msg").removeClass('hide').dialog({
                modal: true,
                title: "Check In",
                title_html: true,
                width: 800,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
            // PMS0210060 arrivals 接待單筆
            $('#fd-checkIn-table').datagrid({
                singleSelect: true,
                collapsible: true,
                url: '/jsonData/frontDesk/fd-checkIn-table.json',
                method: 'get',
                columns: [[
                    {field: 'checkbox', title: '選擇', width: 40, align: "center"},
//                    {field: 'scan', title: '掃描', width: 40},
                    {field: 'cleanStus', title: '清掃狀況', width: 70},
                    {field: 'no', title: '序號', width: 40},
                    {field: 'roomNum', title: '房號', width: 70},
                    {field: 'vip', title: 'VIP等級', width: 60},
                    {field: 'name', title: '住客姓名', width: 100},
                    {field: 'inDate', title: '入住日期', width: 80},
                    {field: 'outDate', title: '退房日期', width: 80},
                    {field: 'code', title: '房價代號', width: 140},
                    {field: 'priceRoom', title: '計價房型', width: 70},
                    {field: 'useRoom', title: '使用房型', width: 70},
                    {field: 'roomPrice', title: '房價', width: 80, align: "right"},
                    {field: 'serPrice', title: '服務費', width: 80, align: "right"}
                ]]
            });
        });

        // 彈出 接待 單筆取消
        $(document).on('click', ".clFdCheckIn", function (e) {
            e.preventDefault();
            var dialog = $("#clFdCheckIn-msg").removeClass('hide').dialog({
                modal: true,
                title: "取消入住",
                title_html: true,
                width: 800,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
            // PMS0210060 arrivals 接待單筆
            $('#cl-fd-checkIn-table').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/cal-fd-checkIn-table.json',
                method: 'get',
                columns: [[
                    {field: 'checkbox', title: '選擇', width: 40, align: "center"},
                    {field: 'roomNum', title: '房號', width: 70},
                    {field: 'name', title: '住客姓名', width: 150},
                    {field: 'inDate', title: '入住日期', width: 100},
                    {field: 'outDate', title: '退房日期', width: 100},
                    {field: 'gstAccPrice', title: '住客帳餘額', width: 100, align: "right"}
                ]]
            });
        });

        // 彈出 接待 取消入住 --> 取消入住
        $(document).on('click', ".clFdCheckIn-opt", function (e) {
            e.preventDefault();
            var dialog = $("#clFdCheckIn-opt-msg").removeClass('hide').dialog({
                modal: true,
                title: "取消入住選項",
                title_html: true,
                width: 300,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });


        /***
         * PMS0210030 Room Assign
         */

        // 彈出 Room Assign-auto Assign foCnt_autoAssign
        $(document).on('click', ".foCnt_autoAssign", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_autoAssign-message").removeClass('hide').dialog({
                modal: true,
                title: "Auto Assign",
                title_html: true,
                width: 1000,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });

            // auto assign dataGrid
            $('#foCnt_autoAssign-table').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/foCnt_autoAssign.json',
                method: 'get',
                columns: [[
                    {field: 'ckbox', title: '<input type="checkbox"/>', width: 40},
                    {field: 'bookingNum', title: '訂房數', width: 60},
                    {field: 'planRoomNum', title: '排房數', width: 60},
                    {field: 'ciNum', title: 'C/I數', width: 60},
                    {field: 'coNum', title: 'C/O數', width: 60},
                    {field: 'rmGrpupNum', title: '房組數', width: 60},
                    {field: 'resvCardNum', title: '訂房卡號', width: 100},
                    {field: 'sort', title: '序號', width: 40},
                    {field: 'ciDate', title: 'C/I日期', width: 100},
                    {field: 'coDate', title: 'C/O日期', width: 100},
                    {field: 'fullName', title: 'Full Name', width: 100},
                    {field: 'roomNum', title: '房號', width: 60},
                    {field: 'groupNum', title: '團號', width: 100},
                    {field: 'assignRm', title: '排房備註', width: 150},
                    {field: 'proxyCompany', title: '代訂公司', width: 100},
                ]]
            });

        });

        // 彈出 Room Assign-auto Assign foCnt_autoAssignSGL
        $(document).on('click', ".foCnt_autoAssignSGL", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_autoAssignSGL-message").removeClass('hide').dialog({
                modal: true,
                title: "[訂房卡號：00481901  使用房型:STD]",
                title_html: true,
                width: 700,
                maxwidth: 1920,
                dialogClass: "test",
                resizable: true
            });

            // auto assignSGL dataGrid
            $('#foCnt_autoAssignSGL-table').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/foCnt_autoAssignSGL.json',
                method: 'get',
                columns: [[
                    {field: 'row', title: '選擇', width: 40},
                    {field: 'roomKind', title: '房號', width: 50},
                    {field: 'rmGrpup', title: '序號', width: 40},
                    {field: 'fullName', title: '住客姓名', width: 130},
                    {field: 'msgRule', title: '訊息說明', width: 285}
                ]]
            });

        });

        // 彈出 批次取消　
        $(document).on('click', ".foCnt_batch_cal", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_batch_cal-msg").removeClass('hide').dialog({
                modal: true,
                title: "批次取消失敗清單",
                title_html: true,
                width: 700,
                maxwidth: 1920,
                dialogClass: "test",
                resizable: true
            });

            // auto 批次取消 dataGrid
            $('#foCnt_batch_cal-table').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/foCnt_batch_cal.json',
                method: 'get',
                columns: [[
                    {field: 'no', title: '序號', width: 40},
                    {field: 'roomNum', title: '房號', width: 60},
                    {field: 'fullName', title: '住客姓名', width: 120},
                    {field: 'msgRule', title: '訊息說明', width: 320}
                ]]
            });

        });

        // 彈出Related RMs
        $(document).on('click', ".RelatedRms-btn", function (e) {
            e.preventDefault();
            var dialog = $("#RelatedRms-page").removeClass('hide').dialog({
                modal: true,
                title: "Related Rms",
                title_html: true,
                width: 900,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });

            // RelatedRms table
            $('#relatedRmsTable').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/relatedRmsTable.json',
                method: 'get',
                columns: [[
                    //            {field: 'box', title: '', width: 30},
                    {field: 'roomNum', title: '房號', width: 50},
                    {field: 'name', title: 'Full Name', width: 100},
                    {field: 'sex', title: '性別', width: 50},
                    {field: 'nationality', title: '國籍', width: 70},
                    {field: 'bookingRoom', title: '訂房公司名稱', width: 100},
                    {field: 'ciDate', title: 'C/I日期', width: 100},
                    {field: 'ciTime', title: 'C/I時間', width: 100},
                    {field: 'expectCo', title: '預計C/O日期', width: 100},
                    {field: 'bookingNum', title: '訂房卡號', width: 100},
                    {field: 'groupName', title: '團號/團體名稱', width: 100}
                ]]
            });

        });

        // 彈出 focnt_lockRoom 鎖定排房
        $(document).on('click', ".focnt_lockRoom", function (e) {
            e.preventDefault();
            var dialog = $("#focnt_lockRoom-msg").removeClass('hide').dialog({
                modal: true,
                title: "鎖定排房",
                title_html: true,
                width: 300,
                maxwidth: 1920,
                dialogClass: "test",
                resizable: true
            });
        });

        // 彈出 排房明細 option
        $(document).on('click', ".roomAss_detail", function (e) {
            e.preventDefault();
            var dialog = $("#roomAss_detail_msg").removeClass('hide').dialog({
                modal: true,
                title: "未來用房清單",
                title_html: true,
                width: 600,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        /***
         * PMS0210070 Departures
         */

        // 彈出 PMS0210070 Departures-fastCo foCnt_fastCo
        $(document).on('click', ".foCnt_fastCo", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_fastCo-message").removeClass('hide').dialog({
                modal: true,
                title: "Fast Co",
                title_html: true,
                width: 800,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // 彈出 PMS0210070 Departure-group-tourGuide (foCnt_tourGuide)
        $(document).on('click', ".foCnt_tourGuide", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_tourGuide-message").removeClass('hide').dialog({
                modal: true,
                title: "導遊",
                title_html: true,
                width: 500,
                maxwidth: 1920,
                minheight: 250,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // 彈出 PMS0210070 Departure > postMaster foCnt_cslPostMaster
        $(document).on('click', ".foCnt_cslPostMaster", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_cslPostMaster-message").removeClass('hide').dialog({
                modal: true,
                title: "取消公帳號",
                title_html: true,
                width: 700,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });

            // PMS0210070 Group > Post Master (foCnt_cslPostMaster) dataGrid
            $('#foCnt_cslPostMaster-table').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/foCnt_cslPostMaster-table.json',
                method: 'get',
                columns: [[
                    {field: 'checkbox', title: '<input type="checkbox">', width: 28, align: "center"},
                    {field: 'roomNum', title: '房號', width: 60},
                    {field: 'sort', title: '序號', width: 40},
                    {field: 'fullName', title: 'Full Name', width: 150},
                    {field: 'ciDate', title: 'C/I日期', width: 80},
                    {field: 'expectCo', title: '預計C/O', width: 80},
                    {field: 'resvCardNum', title: '訂房卡號', width: 100}
                ]]
            });
        });

        // 彈出 PMS0210070 Departure > Folio (foCnt_folio)
        $(document).on('click', ".foCnt_folio", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_folio-message").removeClass('hide').dialog({
                modal: true,
                title: "帳單列印",
                title_html: true,
                width: 800,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // 彈出 PMS0210070 Departure > 房租總額 (foCnt_totalRent)
        $(document).on('click', ".foCnt_totalRent", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_totalRent-message").removeClass('hide').dialog({
                modal: true,
                title: "房租總額",
                title_html: true,
                width: 1000,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });


        /***
         * PMS0210040 團體管理
         */


        // 彈出 團體多筆(未入住) groups_noAdmit
        $(document).on('click', ".groups_noAdmit", function (e) {
            e.preventDefault();
            var dialog = $("#groups_noAdmit-message").removeClass('hide').dialog({
                modal: true,
                title: "團體單筆(未)",
                title_html: true,
                width: 1000,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });


        // 彈出 團體多筆(未入住)-住客 gpsNoAdmit_PaxList
        $(document).on('click', ".gpsNoAdmit_PaxList", function (e) {
            e.preventDefault();
            var dialog = $("#gpsNoAdmit_PaxList-message").removeClass('hide').dialog({
                modal: true,
                title: "團體單筆(未)-PAX List",
                title_html: true,
                width: 1000,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });


        // 彈出 團體多筆(已入住)-住客 gpsAdmit_PaxList
        $(document).on('click', ".gpsAdmit_PaxList", function (e) {
            e.preventDefault();
            var dialog = $("#gpsAdmit_PaxList-message").removeClass('hide').dialog({
                modal: true,
                title: "團體單筆(已)-PAX List",
                title_html: true,
                width: 1000,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // 彈出 團體多筆(已入住) groups_admit
        $(document).on('click', ".groups_admit", function (e) {
            e.preventDefault();
            var dialog = $("#groups_admit-message").removeClass('hide').dialog({
                modal: true,
                title: "團體單筆(已)",
                title_html: true,
                width: 1000,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // 彈出 接待-開班登入
        $(document).on('click', ".frontDesk_depoisitsBtn", function (e) {
            e.preventDefault();
            var dialog = $("#frontDesk_depoisits-message").removeClass('hide').dialog({
                modal: true,
                title: "開班登入",
                title_html: true,
                width: 500,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // 彈出 住客帳入帳
        $(document).on('click', ".frontDeskRecorded_Btn", function (e) {
            e.preventDefault();
            var dialog = $("#frontDeskRecorded-message").removeClass('hide').dialog({
                modal: true,
                title: "住客帳入帳作業",
                title_html: true,
                width: 700,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });

            // 住客帳入帳作業table
            $('#frontDeskRecorded1-table').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/frontDeskRecorded1-table.json',
                method: 'get',
                columns: [[
                    {field: 'CNum', title: '消費單號', width: 100},
                    {field: 'CCode', title: '消費代號', width: 100},
                    {field: 'price', title: '單價', width: 70, align: 'right'},
                    {field: 'num', title: '數量', width: 70, align: 'right'},
                    {field: 'total', title: '小計', width: 70, align: 'right'},
                    {field: 'total2', title: '小計(未稅)', width: 100, align: 'right'},
                    {field: 'pay', title: '稅別', width: 70, align: 'right'},
                    {field: 'roomNum', title: '房號', width: 70},
                    {field: 'ps', title: '出納備註', width: 70}
                ]]
            });

            // 住客帳入帳作業table2
            $('#frontDeskRecorded2-table').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/frontDeskRecorded2-table.json',
                method: 'get',
                columns: [[
                    {field: 'CNum', title: '消費項目', width: 100},
                    {field: 'CCode', title: '項目名稱', width: 100},
                    {field: 'price', title: '單價', width: 70, align: 'right'},
                    {field: 'num', title: '數量', width: 70, align: 'right'},
                    {field: 'total', title: '小計', width: 70, align: 'right'},
                    {field: 'ps', title: '出納備註', width: 100},
                    {field: 'pay', title: '帳單備註', width: 100},
                    {field: 'roomNum', title: '入帳房號', width: 70},
                    {field: 'file', title: '帳夾', width: 70}
                ]]
            });

        });

        // 彈出 住客帳入帳
        $(document).on('click', ".registration-cardBtn", function (e) {
            e.preventDefault();
            var dialog = $("#registration-card-message").removeClass('hide').dialog({
                modal: true,
                title: "旅客登記卡",
                title_html: true,
                width: 600,
                maxwidth: 1920,
//                height: $(window).height(),
//                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // PMS0210020 晨呼的選擇團號
        $(document).on('click', ".foCnt_addMorning01", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_addMorning01-message").removeClass('hide').dialog({
                modal: true,
                title: "選擇團號",
                title_html: true,
                width: 500,
                maxwidth: 1920,
                //                height: $(window).height(),
                //                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // PMS0210020 選擇公帳號
        $(document).on('click', ".foCnt_addMorning02", function (e) {
            e.preventDefault();
            var dialog = $("#foCnt_addMorning02-message").removeClass('hide').dialog({
                modal: true,
                title: "選擇公帳號",
                title_html: true,
                width: 500,
                maxwidth: 1920,
                //                height: $(window).height(),
                //                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        //個人換房
        $(document).on('click', ".changeRoom-Btn", function (e) {
            e.preventDefault();
            var dialog = $("#changeRoom-wrap").removeClass('hide').dialog({
                modal: true,
                title: "個人換房",
                title_html: true,
                width: 550,
                maxwidth: 1920,
                //                height: $(window).height(),
                //                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        // Late C/O
        $(document).on('click', ".lateCo-Btn", function (e) {
            e.preventDefault();
            var dialog = $("#lateCo-wrap").removeClass('hide').dialog({
                modal: true,
                title: "Late C/O",
                title_html: true,
                width: 600,
                maxwidth: 1920,
                //                height: $(window).height(),
                //                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });
        });

        //PreAuth-Btn
        $(document).on('click', ".preAuth-Btn", function (e) {
            e.preventDefault();
            var dialog = $("#preAuth-wrap").removeClass('hide').dialog({
                modal: true,
                title: "Pre. Auth.",
                title_html: true,
                width: 700,
                maxwidth: 1920,
                //                height: $(window).height(),
                //                autoOpen: true,
                dialogClass: "test",
                resizable: true
            });

            // preAuthTable
            $('#preAuthTable').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/preAuthTable.json',
                method: 'get',
                columns: [[
                    {field: 'roomNum', title: '序號', width: 30},
                    {field: 'sDate', title: '預刷日期', width: 100},
                    {field: 'pay', title: '付款方式', width: 150},
                    {field: 'card', title: '信用卡卡號', width: 100},
                    {field: 'date', title: '有效期限', width: 50},
                    {field: 'code', title: '授權碼', width: 70},
                    {field: 'money', title: '預刷金額', width: 70, align: 'right'}
                ]]
            });

        });

        // 新增晨呼 Wake Up
        $(document).on('click', ".addMorning-btn", function (e) {
            e.preventDefault();
            addMorning_btn();
        });

        /***
         * dataGrid
         */

        // PMS0210040 團體管理(多筆) dataGrid
        $('#front_groups-table').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/frontDesk/front_groups.json',
            method: 'get',
            columns: [[
                {field: 'publicAccount', title: '公帳號', width: 80},
                {field: 'serPrice', title: '團號', width: 150},
                {field: 'touristGuide', title: '導遊', width: 80},
                {field: 'publicAccName', title: '公帳號名稱', width: 80},
                {field: 'publicAccStatus', title: '公帳狀態', width: 80},
                {field: 'resvCard', title: '訂房卡號', width: 100},
                {field: 'resvStatus', title: '訂房卡狀態', width: 80},
                {field: 'ciDate', title: '入住日期', width: 100},
                {field: 'coDate', title: '退房日期', width: 100}
            ]]
        });

        // PMS0210070 CO清單 CheckOut(多筆) dataGrid
        $('#front_coList-table').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/frontDesk/front_coList.json',
            method: 'get',
            columns: [[
                {field: 'preCOTime', title: '預計C/O時間', width: 80},
                {field: 'roomNum', title: '房號', width: 60},
                {field: 'sort', title: '序號', width: 40},
                {field: 'fullName', title: '姓名', width: 150},
                {field: 'custAccStatus', title: '客帳狀態', width: 80},
                {field: 'ciDate', title: 'C/I日期', width: 100},
                {field: 'ciTime', title: 'C/I時間', width: 60},
                {field: 'balanceResidentAcc', title: '住客帳餘額', width: 80, align: "right"},
                {field: 'resvNum', title: '訂房卡號', width: 100},
                {field: 'coRemark', title: 'C/O備註', width: 250}
            ]]
        });

        // PMS0210070 CO清單 Inhouse(多筆) dataGrid
        $('#front_coListInhouse-table').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/frontDesk/front_coListInhouse.json',
            method: 'get',
            columns: [[
                {field: 'preCOTime', title: '預計C/O時間', width: 80},
                {field: 'roomNum', title: '房號', width: 60},
                {field: 'sort', title: '序號', width: 40},
                {field: 'fullName', title: '姓名', width: 150},
                {field: 'custAccStatus', title: '客帳狀態', width: 80},
                {field: 'ciDate', title: 'C/I日期', width: 100},
                {field: 'ciTime', title: 'C/I時間', width: 60},
                {field: 'balanceResidentAcc', title: '住客帳餘額', width: 80, align: "right"},
                {field: 'resvNum', title: '訂房卡號', width: 100},
                {field: 'coRemark', title: 'C/O備註', width: 250}
            ]]
        });

        /***
         * PMS0210130 messages
         */

        // PMS0210130 messages(多筆) dataGrid
        $('#front_message-table').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/frontDesk/front_message.json',
            method: 'get',
            columns: [[
                {field: 'room', title: 'Room', width: 80, align: "right"},
                {field: 'fullName', title: 'Full Name', width: 150},
                {field: 'date', title: 'Date', width: 80},
                {field: 'time', title: 'Time', width: 80},
                {field: 'from', title: 'From', width: 80},
                {field: 'at', title: 'At', width: 80},
                {field: 'replyTo', title: 'Reply to', width: 100},
                {field: 'message', title: 'Message', width: 150},
                {field: 'status', title: 'Status', width: 80},
                {field: 'addBy', title: 'Add By', width: 80},
                {field: 'addDate', title: 'Add Date', width: 80},
                {field: 'updby', title: 'Upd by', width: 80},
                {field: 'updDate', title: 'Upd Date', width: 80}
            ]]
        });


        // PMS0210060 CI清單(多筆) dataGrid
        $('#PMS0210060-table').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/frontDesk/PMS0210060.json',
            method: 'get',
            columns: [[
//                {field: 'resvCardNum', title: '訂房卡號', width: 50},
                {field: 'resvCardNum', title: '訂房卡號', width: 80},
                {field: 'state', title: '狀態', width: 45},
                {field: 'roomNum', title: '訂房數', width: 50},
                {field: 'roomNum2', title: '排房數', width: 50},
                {field: 'ciNum', title: 'C/I數', width: 45},
                {field: 'groupNum', title: '團號', width: 145},
                {field: 'ciDate', title: '入住日期', width: 75},
                {field: 'coDate', title: '退房日期', width: 75},
                {field: 'roomCode', title: '房價代號', width: 125},
                {field: 'roomTypes', title: '計價房型', width: 60},
                {field: 'useRmTypes', title: '使用房型', width: 60},
                {field: 'uniPrice', title: '單價', width: 60, align: "right"},
                {field: 'serPrice', title: '服務費', width: 50, align: "right"},
                {field: 'bookingCompany', title: '訂房公司', width: 90},
                {field: 'contact', title: '聯絡人', width: 70}
            ]]
        });

        // PMS0210060 CI清單-2(多筆) dataGrid
        $('#PMS0210060-table-sec').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/frontDesk/PMS0210060-sec.json',
            method: 'get',
            columns: [[
                {field: 'no', title: '序號', width: 40},
                {field: 'roomCode', title: '房號', width: 50},
                {field: 'fullName', title: '住客姓名', width: 200},
                {field: 'status', title: '狀態', width: 50}
            ]]
        });

        // PMS0210030 排房作業(多筆)
        $('#roomDetail-table').datagrid({
            singleSelect: true,
            collapsible: true,
            url: '/jsonData/frontDesk/front_roomAssign-1.json',
            method: 'get',
            columns: [[
                {field: 'cardCode', title: '訂房卡號', width: 80},
                {field: 'status', title: '狀態', width: 60},
                {field: 'resv', title: '訂房', width: 40},
                {field: 'assignRoom', title: '排房', width: 40},
                {field: 'proxyCompanyName', title: '團號', width: 100},
                {field: 'ciDate', title: '入住日期', width: 80},
                {field: 'coDate', title: '退房日期', width: 80},
                {field: 'rateCode', title: '房價代號', width: 140},
                {field: 'cRoom', title: '計價房型', width: 60},
                {field: 'useRoom', title: '使用房型', width: 60},
                {field: 'uniPrice', title: '單價', width: 60, align: "right"},
                {field: 'serPrice', title: '服務費', width: 60, align: "right"},
                {field: 'resvCompany', title: '訂房公司', width: 100},
                {field: 'adult', title: '大人', width: 40},
                {field: 'child', title: '小孩', width: 40},
                {field: 'baby', title: '嬰兒', width: 40}
            ]]
        });
        // PMS0210030 排房作業細節2(多筆)
        $('#roomDetail-table2').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/frontDesk/front_roomAssign-2.json',
            method: 'get',
            columns: [[
                {field: 'bookingNum', title: '序號', width: 35},
                {field: 'name', title: '住客姓名', width: 200},
                {field: 'roomAssignNum', title: '排房狀態', width: 60},
                {field: 'roomNum', title: '房號', width: 40},
                {field: 'useHousing', title: '使用房型', width: 100},
                {field: 'lockRoomAssign', title: '鎖定排房', width: 60},
                {field: 'adult', title: '大人', width: 35},
                {field: 'child', title: '小孩', width: 35},
                {field: 'baby', title: '嬰兒', width: 35}
            ]]
        });

        // PMS0210050 住客查詢 (多筆)
        $('#PMS0210050').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/frontDesk/PMS0210050.json',
            method: 'get',
            columns: [[
                {field: 'name', title: '住客姓名', width: 100},
                {field: 'gender', title: '性別', width: 55},
                {field: 'status', title: '狀態', width: 70},
                {field: 'ciDate', title: '入住日期', width: 100},
                {field: 'ciTime', title: '入住時間', width: 100},
                {field: 'coDate', title: '退房日期', width: 100},
                {field: 'coTime', title: '退房時間', width: 100},
                {field: 'company', title: '訂房公司', width: 100},
                {field: 'room', title: '房號', width: 70},
                {field: 'rvNos', title: '訂房卡號', width: 70},
                {field: 'nationality', title: '國籍', width: 100},
                {field: 'license', title: '車號', width: 100},
                {field: 'companyName', title: '公司名稱', width: 100}
            ]]
        });


        // PMS0210120 晨呼table (多筆)
        $('#morningCallTable').datagrid({
            singleSelect: true,
            collapsible: true,
            // 從json 撈
            url: '/jsonData/frontDesk/morningCallTable.json',
            method: 'get',
            columns: [[
                {field: 'checkbox', title: '<input type="checkbox">', width: 28, align: "center"},
                {field: 'roomNum', title: '房號', width: 80},
                {field: 'name', title: '住客姓名', width: 150},
                {field: 'callDate', title: '晨呼日期', width: 100},
                {field: 'callTime', title: '晨呼時間', width: 100},
                {field: 'callState', title: '晨呼狀態', width: 100},
                {field: 'addDate', title: '新增日', width: 100},
                {field: 'addBy', title: '新增者', width: 100},
                {field: 'lastDate', title: '最後異動日', width: 100},
                {field: 'lastGuy', title: '最後異動者', width: 100},
            ]]
        });


        /***
         * 櫃檯備品 screen小於1280縮小
         */

//        var $window = $(window),
//            $ul = $('ul.nav');
//        $(window).on('resize', function () {
//            if ($window.width() < 1281) {
//                $('.intCounterLeft').removeClass('col-xs-6').addClass('col-xs-12');
//            } else {
//                $('.intCounterLeft').removeClass('col-xs-12').addClass('col-xs-6');
//            }
//        })
        /* screen小於1280縮小 END */

        /* 點選右上箭頭選擇觀看右邊表格 */
        function foCounterMain(colRemove, colAdd, maxW, disToggle1, disToggle2) {
            $('.intCounterLeft').removeClass(colRemove).addClass(colAdd);
//            $('.intCounterLeft .chooseCount').css('width','8%');
            $('.intCounterLeft .resultCount').css('max' +
                '-width', maxW);
            $('.intCounterRight').css('display', disToggle1);
            $('.fa-angle-left').css('display', disToggle2);
            $('.fa-angle-right').css('display', disToggle1);
        }

        $(".show-intCounterRight > .fa-angle-left").click(function () {
            foCounterMain('col-xs-12', 'col-xs-8', '94%', 'inline-block', 'none'); //old 92%
        });
        $(".show-intCounterRight > .fa-angle-right").click(function () {
            foCounterMain('col-xs-8', 'col-xs-12', '95%', 'none', 'inline-block');
        });
        /* 點選右上箭頭選擇觀看右邊表格 End */

        /* 點選左上放大鏡選擇觀看內容多寡 */
        function zoomInOut(width, height, disToggle1, disToggle2) {
            $('.counterBlock').css('width', width).css('height', height);
            $('.counterBlock > .head > .right >.counterPrice').css('display', disToggle1);
            $('.counterBlock > .content').css('display', disToggle1);
            $('.counterBlock > .content-sub').css('display', disToggle1);
            $('.zoomOut').css('display', disToggle1);
            $('.zoomIn').css('display', disToggle2);
        }

        $(document).on('click', ".zoomOut", function () {
            zoomInOut('70px', '33px', 'none', 'inline-block');
        });
        $(document).on('click', ".zoomIn", function () {
            zoomInOut('127px', '74px', 'inline-block', 'none');
        });
        /* 點選左上放大鏡選擇觀看內容多寡 End */


        //顯示排房明細
        $(".cardDetail-table").panel({closed: true});
        $('.showCardDetail').click(function () {
            if ($('input.showCardDetail').is(':checked')) {
                $("#roomDetail-table").datagrid('reload');
                $(".cardDetail-table").panel({closed: false});
                $(".roomDetail-table2").removeClass('cardDetail_margin');
                $('#roomDetail-table2').datagrid('resize', {height: 'auto'}).removeClass('roomAssTableHt');
            }
            else {
                $(".cardDetail-table").panel({closed: true});
                $(".roomDetail-table2").addClass('cardDetail_margin');
                $("#roomDetail-table2").addClass('roomAssTableHt');
            }

        });

        // 排房明細 螢幕縮放時重新抓值
        $(window).resize(function () {
            $('.cardDetail-table').panel('resize', {}); // 不能控制Table 須控制更外層的panel
            $('#roomDetail-table2').datagrid('resize', {});
        });

        //排房選中active
        $('.townPage').on('click', ".townBlock", function (e) {
            $('.townBlock').removeClass("active");
            $(this).addClass("active");
        });
        //排房切換
        $('.town-graphics-btn').hide();
//        $('.town-table').hide();
//        $('#townList-table').hide();
        $('.roomAssign').on('click', ".town-list-btn", function (e) {
            $(this).parents('.roomAssign').find('.town-list-btn').hide();
            $(this).parents('.roomAssign').find('.town-graphics-btn').show();
            $(this).parents('.roomAssign').find('.town-grap').hide();
            $(this).parents('.roomAssign').find('.town-table').show();

            // PMS0210030 排房明細 (多筆)
            $(this).parents('.roomAssign').find('#townList-table').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/townList-table.json',
                method: 'get',
                columns: [[
                    {field: 'rmNo', title: 'Rm. No.', width: 70},
                    {field: 'rmType', title: 'Rm. Type', width: 70},
                    {field: 'rmSta', title: 'Rm. Sta.', width: 70},
                    {field: 'hkSta', title: 'HK Sta.', width: 70},
                    {field: 'oos', title: 'OOS', width: 70},
                    {field: 'assign', title: 'Assign', width: 70},
                    {field: 'name', title: 'Full Name', width: 100},
                    {field: 'ciDate', title: 'C/I Date', width: 100},
                    {field: 'coDate', title: 'C/O Date', width: 100},
                    {field: 'rmRemark', title: 'Rm. Remark', width: 150},
                ]]
            });

//            $('#townList-table').css('display','block').datagrid('reload');
        });
        $('.roomAssign').on('click', ".town-graphics-btn", function (e) {
            $(this).parents('.roomAssign').find('.town-graphics-btn').hide();
            $(this).parents('.roomAssign').find('.town-table').hide();
            $(this).parents('.roomAssign').find('#townList-table').css('display', 'none');
            $(this).parents('.roomAssign').find('.town-grap').show();
            $(this).parents('.roomAssign').find('.town-list-btn').show();
        });

        // PMS0210020 綜合櫃檯 相關設定 & 全部設定切換
        $(document).on('click', '.related-set1', function (e) {
            $(this).parents('.pageMain').find('.counterBlock').fadeOut('800');
            $(this).parents('.pageMain').find('.resultCount').css('min-width', '95%');
            $(this).parents('.pageMain').find('.related-set-block').fadeIn('800');
            $(this).html("全部房號").addClass('related-set2').removeClass('related-set1');
        });
        $(document).on('click', '.related-set2', function (e) {
            $(this).parents('.pageMain').find('.counterBlock').fadeIn('800');
            $(this).parents('.pageMain').find('.resultCount').css('min-width', '');
            $(this).html("相關房號").addClass('related-set1').removeClass('related-set2');
        });

        //綜合櫃台切換
        $('.intCounter-grap-btn').hide();
//        $('.town-table').hide();
//        $('#townList-table').hide();
        $('.intCounterLeft').on('click', ".intCounter-list-btn", function (e) {
            $(this).parents('.intCounterLeft').find('.intCounter-list-btn').hide();
            $(this).parents('.intCounterLeft').find('.intCounter-grap-btn').show();
            $(this).parents('.intCounterLeft').find('.intCounter-grap').hide();
            $(this).parents('.intCounterLeft').find('.intCounter-list').show();
            $(this).parents('.intCounterLeft').find('#intCounter-table').datagrid({
                singleSelect: true,
                collapsible: true,
                // 從json 撈
                url: '/jsonData/frontDesk/intCounter-table.json',
                method: 'get',
                columns: [[
                    {field: 'rmNo', title: 'Rm. No.', width: 70},
                    {field: 'rmType', title: 'Rm. Type', width: 70},
                    {field: 'fullName', title: 'Full Name', width: 70},
                    {field: 'ciDate', title: 'C/I Date', width: 100},
                    {field: 'coDate', title: 'C/O Date', width: 100},
                    {field: 'balance', title: 'Balance', width: 70},
                    {field: 'rmSta', title: 'Rm Sta', width: 70},
                    {field: 'hkSta', title: 'HK Sta', width: 70},
                    {field: 'assign', title: 'Assign', width: 50},
                    {field: 'oos', title: 'OOS', width: 50},
                    {field: 'dnd', title: 'DND', width: 50},
                    {field: 'bedSet.', title: 'Bed Set', width: 70},
                    {field: 'rmRemark', title: 'Rm Remark', width: 150},
                ]]
            });
        });
        $('.intCounterLeft').on('click', ".intCounter-grap-btn", function (e) {
            $(this).parents('.intCounterLeft').find('.intCounter-grap-btn').hide();
            $(this).parents('.intCounterLeft').find('.intCounter-list').hide();
            $(this).parents('.roomAssign').find('#intCounter-table').css('display', 'none');
            $(this).parents('.intCounterLeft').find('.intCounter-grap').show();
            $(this).parents('.intCounterLeft').find('.intCounter-list-btn').show();
        });


        // 指定綜合櫃檯 選擇條件 (OC/OD/....)
        $(document).on('click', '.status-tip', function () {
            $('.status-tip').removeClass('status-tip-active');
            $(this).addClass('status-tip-active');
            let statusData = $(this).data('class');

            if (statusData == 'cb-oc-od') {
                $(this).parents('.foCounter').find('.counterBlock').fadeOut('800');
                $(this).parents('.foCounter').find('.cb-oc-od').fadeIn('800');
                $(this).parents('.pageMain').find('.resultCount').css('min-width', '95%');
            }
            else if (statusData == 'cb-ob') {
                $(this).parents('.foCounter').find('.counterBlock').fadeOut('800');
                $(this).parents('.foCounter').find('.cb-ob').fadeIn('800');
                $(this).parents('.pageMain').find('.resultCount').css('min-width', '95%');
            }
            else if (statusData == 'cb-doc-dod') {
                $(this).parents('.foCounter').find('.counterBlock').fadeOut('800');
                $(this).parents('.foCounter').find('.cb-doc-dod').fadeIn('800');
                $(this).parents('.pageMain').find('.resultCount').css('min-width', '95%');
            }
            else if (statusData == 'cb-dod') {
                $(this).parents('.foCounter').find('.counterBlock').fadeOut('800');
                $(this).parents('.foCounter').find('.cb-dod').fadeIn('800');
                $(this).parents('.pageMain').find('.resultCount').css('min-width', '95%');
            }
            else if (statusData == 'cb-vc-vd') {
                $(this).parents('.foCounter').find('.counterBlock').fadeOut('800');
                $(this).parents('.foCounter').find('.cb-vc-vd').fadeIn('800');
                $(this).parents('.pageMain').find('.resultCount').css('min-width', '95%');
            }
            else if (statusData == 'cb-ooo') {
                $(this).parents('.foCounter').find('.counterBlock').fadeOut('800');
                $(this).parents('.foCounter').find('.cb-ooo').fadeIn('800');
                $(this).parents('.pageMain').find('.resultCount').css('min-width', '95%');
            }
            else if (statusData == 'cb-vc-vdGreen') {
                $(this).parents('.foCounter').find('.counterBlock').fadeOut('800');
                $(this).parents('.foCounter').find('.cb-vc-vdGreen').fadeIn('800');
                $(this).parents('.pageMain').find('.resultCount').css('min-width', '95%');
            }
            else if (statusData == 'cb-oos') {
                $(this).parents('.foCounter').find('.counterBlock').fadeOut('800');
                $(this).parents('.foCounter').find('.cb-oos').fadeIn('800');
                $(this).parents('.pageMain').find('.resultCount').css('min-width', '95%');
            }
            else if (statusData == 'cb-s') {
                $(this).parents('.foCounter').find('.counterBlock').fadeOut('800');
                $(this).parents('.foCounter').find('.cb-s').fadeIn('800');
                $(this).parents('.pageMain').find('.resultCount').css('min-width', '95%');
            }
            else if (statusData == 'cb-all') {
                $(this).parents('.foCounter').find('.counterBlock').fadeIn('800');
                $(this).parents('.pageMain').find('.resultCount').css('min-width', '');
            }
            else {
                $(this).parents('.foCounter').find('.counterBlock').fadeIn('800');
                $(this).parents('.pageMain').find('.resultCount').css('min-width', '');
            }
        });

        // room Assign (RM Features 右側控制下方textArea 行數)
        $(document).on('click', '.show-text-more', function () {
            let qnt = $(this).parents('.room-special').find('.text-more').attr('rows');
            if (qnt == 1) {
                $(this).parents('.room-special').find('.text-more').attr('rows', '4');
            } else {
                $(this).parents('.room-special').find('.text-more').attr('rows', '1');
            }

        });

    });

    //vue
    let searchCon = new Vue({
        el: '.search-content',
        data: {
            ciDate1: new Date(),
            coDate1: new Date(),
        }
    })
</script>
