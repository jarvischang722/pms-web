<!DOCTYPE html>
<html lang="en">
<%- include ../../common/head %>
<%- include ../../common/importFiles %>

<body class="no-skin" data-feedly-mini="yes">

    <div id="MainApp" class="main-container ace-save-state" style="margin-top: 35px;"  v-loading="isLoading"  element-loading-text="Loading..." >

        <div class="main-content" v-show="isVerify">
            <div class="main-content-inner">
                <!-- #section:basics/content.breadcrumbs -->

                <!-- /section:basics/content.breadcrumbs -->
                <div class="page-content dominos-inventory-wrap">

                    <!-- /section:settings.box -->
                    <div class="page-header no-border-bottom">
                        <h1>
                            門市Web訂單作業
                        </h1>
                    </div><!-- /.page-header -->

                    <!-- 查詢 -->
                    <search-comp
                            :search-fields="searchFields"
                            :search-cond="searchCond"
                            :fetch-data="loadDataGrid">
                    </search-comp>

                    <div class="dominos-inventory-container">

                        <div class="dominos-inventory-left">

                            <div class="main-content-data">
                                <div class="horizTable-outer">
                                    <table id="PSIW500030_dg" class="css_table horizTable"></table>
                                </div>
                            </div>
                        </div>

                        <div class="splitter"></div>

                        <div class="dominos-inventory-right">
                            <div class="dominos-btn-group">
                                    <ul>
                                        <li>
                                            <button class="btn btn-primary btn-white btn-defaultWidth foCnt_details" @click="addData()" :disabled="!addEnable" role="button">新增</button>
                                        </li>
                                        <li>
                                            <button class="btn btn-primary btn-white btn-defaultWidth foCnt_walkIn" @click="editData()" :disabled="!editEnable" role="button">修改</button>
                                        </li>
                                        <li>
                                            <button class="btn btn-primary btn-white btn-defaultWidth foCnt_dayUse" @click="deleteData()" :disabled="!deleteEnable" role="button">刪除</button>
                                        </li>
                                        <li>
                                            <button class="btn btn-primary btn-white btn-defaultWidth foCnt_dayUse" @click="approved()" :disabled="!cnfirmEnable" role="button">核准</button>
                                        </li>
                                        <li>
                                            <button class="btn btn-primary btn-white btn-defaultWidth foCnt_dayUse" @click="cancel()" :disabled="!cancelEnable" role="button">取消核准</button>
                                        </li>
                                        <li>
                                            <button class="btn btn-primary btn-white btn-defaultWidth" @click="save()" :disabled="!saveEnable" role="button">儲存</button>
                                        </li>
                                        <li>
                                            <button class="btn btn-primary btn-white btn-defaultWidth" @click="drop()" :disabled="!dropEnable" role="button">放棄</button>
                                        </li>
                                        <li class="btn-120">
                                            <button class="btn btn-primary btn-white btn-defaultWidth" role="button">空白訂貨表單下載</button>
                                        </li>
                                    </ul>
                            </div>
                            <div class="clearfix"></div>
                            <div class="main-content-data dominos-input-group">
                                <div class="grid">
                                    <div class="grid-item">
                                        <label>訂單編號</label>
                                        <input v-model="singleData.order_nos" type="text" class="input-medium resvCardSpec1" placeholder="" disabled>
                                    </div>
                                    <div class="grid-item">
                                        <label>訂單日期</label>
                                        <input v-model="singleData.order_dat" type="text" class="input-medium resvCardSpec1" placeholder="" disabled>
                                    </div>
                                    <div class="grid-item">
                                        <label>狀態</label>
                                        <select v-model="singleData.order_sta" class="input-medium resvCard" style="-webkit-appearance: menulist;" disabled>
                                            <option v-for="opt in statusSelectData" :value="opt.value">
                                                {{opt.display}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="grid">
                                    <div class="grid-item">
                                        <label>交貨日期</label>
                                        <input v-model="singleData.ship_dat" type="text" class="input-medium resvCardSpec1" placeholder="" disabled>
                                    </div>
                                    <div class="grid-item">
                                        <label>訂單格式</label>
                                        <select v-model="singleData.format_sta" class="input-medium resvCardSpec1" @change="orderFormatVerify()" :disabled="!isModificableFormat">
                                            <option v-for="opt in orderSelectData" :value="opt.format_sta">
                                                {{opt.format_sta}} : {{opt.quote_rmk}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="grid">
                                    <div class="grid-item">
                                        <label>客戶代號</label>
                                        <select v-model="singleData.cust_cod" class="input-medium w118px" style="-webkit-appearance: menulist;" @change="custSelectChange()" :disabled="!isModificableFormat">
                                            <option v-for="opt in custSelectData" :value="opt.cust_cod">
                                                {{opt.show_cod}}
                                            </option>
                                        </select>
                                        <input v-model="singleData.cust_nam" type="text" class="input-medium w388px input-second-2" placeholder="" disabled>
                                    </div>
                                </div>
                                <div class="grid">
                                    <div class="grid-item">
                                        <label>送貨地點</label>
                                        <input v-model="singleData.ship1_add" type="text" class="input-medium w253px address-frist" placeholder="" disabled>
                                        <input v-model="singleData.ship2_add" type="text" class="input-medium w253px address-second" placeholder="" disabled>
                                    </div>
                                </div>
                                <div class="grid">
                                    <div class="grid-item">
                                        <label>員工姓名</label>
                                        <input v-model="singleData.atten_nam" type="text" class="input-medium resvCardSpec1" placeholder="" :disabled="!isModificable">
                                    </div>
                                </div>
                                <div class="grid">
                                    <div class="grid-item">
                                        <label>訂單備註</label>
                                        <input v-model="singleData.order_rmk" type="text" class="input-medium w510px" placeholder="" :disabled="!isModificable">
                                    </div>
                                </div>
                                <div class="grid">
                                <div class="grid-item">
                                    <label>輸入者</label>
                                    <input v-model="singleData.ins_usr" type="text" class="input-medium resvCardSpec1" placeholder="" disabled>
                                </div>
                                <div class="grid-item">
                                    <label>輸入日</label>
                                    <input v-model="singleData.ins_dat" type="text" class="input-medium resvCardSpec1" placeholder="" disabled>
                                </div>
                            </div>
                                <div class="grid">
                                    <div class="grid-item">
                                        <label>異動者</label>
                                        <input v-model="singleData.upd_usr" type="text" class="input-medium resvCardSpec1" placeholder="" disabled>
                                    </div>
                                    <div class="grid-item">
                                        <label>異動日</label>
                                        <input v-model="singleData.upd_dat" type="text" class="input-medium resvCardSpec1" placeholder="" disabled>
                                    </div>
                                </div>
                                <div class="grid">
                                    <div class="grid-item">
                                        <label>核准者</label>
                                        <input v-model="singleData.cnfirm_cod" type="text" class="input-medium resvCardSpec1" placeholder="" disabled>
                                    </div>
                                    <div class="grid-item">
                                        <label>核准日</label>
                                        <input v-model="singleData.cnfirm_dat" type="text" class="input-medium resvCardSpec1" placeholder="" disabled>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="space-12"></div>
                            <div class="dominos-inventory-details">
                                <div class="main-content-data">
                                    <div class="horizTable-outer">
                                        <table id="PSIW500030_dt" class="css_table horizTable"></table>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                </div><!-- /.page-content -->
            </div>
        </div><!-- /.main-content -->

        <div v-show="!isVerify">
            <div class="space-6"></div>
            <div class="loginPage">
                <div class="login-container">
                    <div class="col-sm-12 col-xs-12">
                        <div class="row">

                            <h1>門市Web訂單作業</h1>

                            <div class="space-6"></div>
                            <div class="title">
                                <i class="fa fa-user green"></i>
                                <span>請輸入員工編號 (8碼)</span>
                            </div>
                            <div class="main">
                                <div class="block input-icon input-icon-right">
                                    <input type="text" v-model="userid" class="form-control" placeholder="User" @keyup.enter="verify">
                                    <i class="ace-icon fa fa-user"></i>
                                </div>

                                <div class="mainCheck">
                                    <button type="button" id="login_btn" class=" btn btn-sm btn-primary" style="width: 100%;" @click="verify">
                                        <span class="bigger-110">確定</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div><!-- /. login-content -->
    </div>

    <%- include ../setup/vueTemplate/searchTmp.ejs %>
    <script src="/js/setup/vueCompLib/searchComp.js"></script>
    <script src="/js/saleAndInventory/PSIW500030.js"></script>

</body>
</html>